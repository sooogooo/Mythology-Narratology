# å¯è§†åŒ–åŠŸèƒ½å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

## ğŸ¯ æ‰€æœ‰åŠŸèƒ½å·²å®Œæˆ

### âœ… 1. SVGå›¾æ ‡ + Web Fonts

**ä½ç½®**: å…¨ç«™ä½¿ç”¨
**æ–‡ä»¶**: `svg-icons.js`

**å·²é›†æˆå›¾æ ‡**:
- ğŸ¨ ç¾å­¦ç±»: face, skincare, mirror, sparkle, lotus
- ğŸ“– å™äº‹ç±»: story, dialogue, myth, journey
- ğŸ­ ç« èŠ‚è£…é¥°: ornament1, ornament2, divider
- ğŸ–¼ï¸ UIåŠŸèƒ½: zoom_in, zoom_out, fullscreen, close

**æŸ¥çœ‹ä½ç½®**:
- é¦–é¡µï¼šåºè¨€/å‰è¨€æ ‡é¢˜æ—çš„å›¾æ ‡
- é¦–é¡µï¼šç« èŠ‚åˆ†éš”è£…é¥°çº¿
- å¯è§†åŒ–é¡µé¢ï¼šå›¾æ ‡å±•ç¤ºåŒº

---

### âœ… 2. å›¾è¡¨ + æ€ç»´å¯¼å›¾ + Mermaid

**æ–‡ä»¶**: `mermaid-integration.js`, `data-charts.js`

**Mermaidæ”¯æŒ9ç§å›¾è¡¨**:
```
- æµç¨‹å›¾ (Flowchart)
- æ€ç»´å¯¼å›¾ (Mindmap)
- æ—¶é—´çº¿ (Timeline)
- åºåˆ—å›¾ (Sequence)
- ç±»å›¾ (Class Diagram)
- ç”˜ç‰¹å›¾ (Gantt)
- çŠ¶æ€å›¾ (State Diagram)
- å®ä½“å…³ç³»å›¾ (ER Diagram)
- å…³ç³»å›¾ (Graph)
```

**æ•°æ®å›¾è¡¨5ç§**:
```
- æŸ±çŠ¶å›¾ (Bar Chart)
- æŠ˜çº¿å›¾ (Line Chart)
- é¥¼å›¾ (Pie Chart)
- é›·è¾¾å›¾ (Radar Chart)
- çƒ­åŠ›å›¾ (Heatmap)
```

**æŸ¥çœ‹ä½ç½®**: å¯è§†åŒ–é¡µé¢ â†’ å›¾è¡¨å±•ç¤ºåŒº

**åœ¨Markdownä¸­ä½¿ç”¨**:
\`\`\`mermaid
flowchart TD
    A[å¼€å§‹] --> B[å¤„ç†]
    B --> C[ç»“æŸ]
\`\`\`

---

### âœ… 3. ç« èŠ‚ä¸“å±SVGé…å›¾ï¼ˆå¯æ”¾å¤§ç¼©å°ï¼‰

**æ–‡ä»¶**: `chapter-illustrations.js`

**è®¾è®¡ç‰¹ç‚¹**:
- âœ“ ç»†çº¿æ¡ (0.3-1px stroke)
- âœ“ ç»†å­—ä½“ (Noto Sans SC 300-500)
- âœ“ é»‘ç™½ç°é…è‰² (#333, #666, #999, #fafafa)
- âœ“ ä¸æ‹¥æŒ¤ã€ä¸é‡å 
- âœ“ ç‚¹å‡»æ”¾å¤§æŸ¥çœ‹

**10ç« ä¸“å±æ’å›¾**:
| ç« èŠ‚ | ä¸»é¢˜ | è§†è§‰å…ƒç´  |
|------|------|----------|
| ç¬¬1ç«  | ç¾çš„å½¢è€Œä¸Šå­¦ | åŒå¿ƒåœ†ã€è¾å°„çº¿ã€å‡ ä½•æŠ½è±¡ |
| ç¬¬2ç«  | ç¾çš„ç¬¦å·å­¦ | èƒ½æŒ‡æ‰€æŒ‡ã€ç¬¦å·ç½‘ç»œ |
| ç¬¬3ç«  | åŒ»ç¾ç¥è¯ç»“æ„ | å±‚æ¬¡æ¤­åœ†ã€ç¥è¯å…ƒç´  |
| ç¬¬4ç«  | èº«ä½“å™äº‹æ–‡åŒ–ç»´åº¦ | å¤šç»´äº¤ç»‡ç½‘ç»œ |
| ç¬¬5ç«  | ç¾çš„æŠ€æœ¯å“²å­¦ | é½¿è½®ä¸æ€ç»´èåˆ |
| ç¬¬6ç«  | å™äº‹ä¼¦ç†å‘åº¦ | ä¼¦ç†åæ ‡ç³» |
| ç¬¬7ç«  | ç¾çš„ç»æµå­¦ | ä»·å€¼é“¾æµåŠ¨å›¾ |
| ç¬¬8ç«  | è·¨æ–‡åŒ–å¯¹è¯ | ä¸œè¥¿æ–¹äº¤æµ |
| ç¬¬9ç«  | æ•°å­—æ—¶ä»£é‡æ„ | æŠ€æœ¯ç½‘ç»œèŠ‚ç‚¹ |
| ç¬¬10ç«  | ç¾çš„æœªæ¥ | æ—¶é—´è½´ä¸è¶‹åŠ¿ |

**æŸ¥çœ‹ä½ç½®**: é˜…è¯»ä»»æ„æ­£æ–‡ç« èŠ‚ï¼Œæ’å›¾è‡ªåŠ¨æ˜¾ç¤ºåœ¨æ ‡é¢˜å

---

### âœ… 4. è‡ªå®šä¹‰AIæ¨¡å‹ + è¿é€šæ€§æµ‹è¯• + Tokenç»Ÿè®¡

**æ–‡ä»¶**: `ai-models.js`, `ai-stats-ui.js`

#### 4.1 AIæ¨¡å‹é…ç½®

**ä½ç½®**: è®¾ç½®é¢æ¿ â†’ AIæ¨¡å‹é…ç½®

**é¢„ç½®æ¨¡å‹**:
- Gemini 2.5 Flash (å¯¹è¯)
- Gemini 2.5 Flash Image (å›¾ç‰‡)
- OpenAI GPT-4
- OpenAI GPT-3.5 Turbo
- Claude 3.5 Sonnet
- è‡ªå®šä¹‰æ¨¡å‹ï¼ˆå¯æ·»åŠ ä»»æ„APIï¼‰

**è‡ªå®šä¹‰æ¨¡å‹**:
```javascript
AIModels.addCustomModel('my-model', {
    name: 'æˆ‘çš„æ¨¡å‹',
    endpoint: 'https://api.example.com/chat',
    apiKeyParam: 'Authorization',
    requiresApiKey: true,
    supportsChat: true,
    supportsImage: false,
    formatRequest: (prompt, apiKey) => ({...}),
    formatResponse: (data) => data.response
});
```

#### 4.2 è¿é€šæ€§æµ‹è¯•

**ä½ç½®**: è®¾ç½®é¢æ¿ â†’ æ¨¡å‹è¿é€šæ€§æµ‹è¯•

**åŠŸèƒ½**:
- âœ“ å•ä¸ªæ¨¡å‹æµ‹è¯•
- âœ“ æ‰¹é‡æµ‹è¯•æ‰€æœ‰æ¨¡å‹
- âœ“ æ˜¾ç¤ºå»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
- âœ“ é”™è¯¯è¯Šæ–­ï¼ˆæœªé…ç½®API Keyã€è¿æ¥è¶…æ—¶ã€HTTPé”™è¯¯ç­‰ï¼‰
- âœ“ 10ç§’è¶…æ—¶ä¿æŠ¤

**ç»“æœç¤ºä¾‹**:
```
âœ“ è¿æ¥æˆåŠŸ | å»¶è¿Ÿ: 352ms
âœ— è¿æ¥å¤±è´¥ | æœªé…ç½® API Key
âœ— è¿æ¥å¤±è´¥ | è¿æ¥è¶…æ—¶
```

#### 4.3 Tokenä½¿ç”¨ç»Ÿè®¡

**ä½ç½®**: è®¾ç½®é¢æ¿ â†’ Tokenä½¿ç”¨ç»Ÿè®¡

**ç»Ÿè®¡å†…å®¹**:
- æ€»Tokenæ•°
- è¾“å…¥Tokenæ•°
- è¾“å‡ºTokenæ•°
- æ€»è¯·æ±‚æ•°
- å¯¹è¯è¯·æ±‚æ•°
- å›¾ç‰‡è¯·æ±‚æ•°
- æœ€åä½¿ç”¨æ—¶é—´
- é¦–æ¬¡ä½¿ç”¨æ—¶é—´

**å¯è§†åŒ–**:
- ğŸ“Š æ€»è§ˆå¡ç‰‡ï¼ˆ3ä¸ªæŒ‡æ ‡ï¼‰
- ğŸ“ˆ Top 5æŸ±çŠ¶å›¾
- ğŸ“‹ è¯¦ç»†åˆ—è¡¨

**å¯¼å‡ºåŠŸèƒ½**:
ç‚¹å‡»"å¯¼å‡º"æŒ‰é’® â†’ ä¸‹è½½JSONæŠ¥å‘Š
```json
{
  "exportTime": "2025-01-08T...",
  "models": [{
    "id": "gemini-flash",
    "name": "Gemini 2.5 Flash",
    "totalTokens": 15234,
    "inputTokens": 8120,
    "outputTokens": 7114,
    "requests": 42,
    ...
  }]
}
```

---

### âœ… 5. å…¶ä»–å¯è§†åŒ–å…ƒç´ 

#### 5.1 å›¾ç‰‡/SVGæŸ¥çœ‹å™¨
**æ–‡ä»¶**: `image-viewer.js`

**åŠŸèƒ½**:
- ç¼©æ”¾ (0.5x - 3x)
- æ‹–åŠ¨ç§»åŠ¨
- é¼ æ ‡æ»šè½®ç¼©æ”¾
- é”®ç›˜å¿«æ·é”® (Esc, +, -, 0)
- è§¦æ‘¸æ‰‹åŠ¿ï¼ˆç§»åŠ¨ç«¯ï¼‰
- åŒæŒ‡ç¼©æ”¾

#### 5.2 å¯è§†åŒ–Todoåˆ—è¡¨
**æ–‡ä»¶**: `visual-todo.js`

**åŠŸèƒ½**:
- åˆ›å»º/ç¼–è¾‘/åˆ é™¤ä»»åŠ¡
- å®Œæˆåº¦åˆ‡æ¢
- è¿›åº¦è·Ÿè¸ª (0-100%)
- ä¼˜å…ˆçº§ï¼ˆé«˜/ä¸­/ä½ï¼‰
- 4å¤§åˆ†ç±»ï¼ˆå­¦ä¹ /å®è·µ/æ€è€ƒ/æ€»ç»“ï¼‰
- å¤šç»´åº¦ç­›é€‰
- localStorageæŒä¹…åŒ–

**ä½ç½®**: å¯è§†åŒ–é¡µé¢ â†’ ä»»åŠ¡æ¸…å•

#### 5.3 Toasté€šçŸ¥ç³»ç»Ÿ
**æ–‡ä»¶**: `toast.js`

**ç±»å‹**: success, error, warning, info
**ä½¿ç”¨**:
```javascript
Toast.success('æ“ä½œæˆåŠŸ');
Toast.error('è¿æ¥å¤±è´¥');
```

#### 5.4 å“åº”å¼è®¾è®¡
- âœ“ ç§»åŠ¨ç«¯ä¼˜åŒ–
- âœ“ è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
- âœ“ iOS Safariç‰¹åˆ«ä¼˜åŒ–
- âœ“ è§†å£é«˜åº¦ä¿®æ­£

---

## ğŸ“± å¿«é€Ÿè®¿é—®è·¯å¾„

### æŸ¥çœ‹æ‰€æœ‰å¯è§†åŒ–åŠŸèƒ½
1. æ‰“å¼€åº”ç”¨ â†’ ç‚¹å‡»åº•éƒ¨"å¯è§†åŒ–"æŒ‰é’®
2. æŸ¥çœ‹ï¼š
   - SVGæ’ç”»å±•ç¤º
   - å›¾æ ‡åº“å±•ç¤º
   - ä»»åŠ¡æ¸…å•

### æŸ¥çœ‹ç« èŠ‚æ’å›¾
1. é¦–é¡µ â†’ ç‚¹å‡»ä»»æ„ç« èŠ‚"é˜…è¯»æœ¬ç« "
2. æ ‡é¢˜ä¸‹æ–¹è‡ªåŠ¨æ˜¾ç¤ºç« èŠ‚ä¸“å±æ’å›¾
3. ç‚¹å‡»æ’å›¾å¯æ”¾å¤§æŸ¥çœ‹

### æµ‹è¯•AIæ¨¡å‹
1. ç‚¹å‡»"è®¾ç½®"æŒ‰é’®
2. æ»šåŠ¨åˆ°"æ¨¡å‹è¿é€šæ€§æµ‹è¯•"
3. ç‚¹å‡»"æµ‹è¯•"æˆ–"æµ‹è¯•æ‰€æœ‰æ¨¡å‹"

### æŸ¥çœ‹Tokenç»Ÿè®¡
1. ç‚¹å‡»"è®¾ç½®"æŒ‰é’®
2. æ»šåŠ¨åˆ°"Tokenä½¿ç”¨ç»Ÿè®¡"
3. æŸ¥çœ‹å›¾è¡¨å’Œè¯¦ç»†æ•°æ®
4. ç‚¹å‡»"å¯¼å‡º"ä¸‹è½½æŠ¥å‘Š

### ç®¡ç†API Keys
1. ç‚¹å‡»"è®¾ç½®"æŒ‰é’®
2. ç‚¹å‡»"ç®¡ç† API Keys"
3. é…ç½®å„æ¨¡å‹çš„APIå¯†é’¥

---

## ğŸ¨ è®¾è®¡è§„èŒƒ

### é¢œè‰²ä½¿ç”¨
```css
ä¸»æ–‡å­—: #333
æ¬¡æ–‡å­—: #666
è¾…åŠ©æ–‡å­—: #999
è¾¹æ¡†/ç½‘æ ¼: #ddd
èƒŒæ™¯: #fafafa
å¼ºè°ƒè‰²: #ffd700 (è°¨æ…ä½¿ç”¨)
```

### çº¿æ¡ç²—ç»†
```
ç»†çº¿: 0.3px - 0.5px (è£…é¥°ã€ç½‘æ ¼)
ä¸­çº¿: 0.5px - 0.8px (å›¾æ ‡ã€è¾¹æ¡†)
ç²—çº¿: 1px - 2px (å¼ºè°ƒã€ä¸»è¦å…ƒç´ )
```

### å­—ä½“ç²—ç»†
```
Light: 300 (è¾…åŠ©æ–‡å­—)
Regular: 400 (æ­£æ–‡)
Medium: 500 (å°æ ‡é¢˜)
Bold: 600-700 (å¤§æ ‡é¢˜)
```

### é—´è·ç³»ç»Ÿ
```
--spacing-xs: 4px
--spacing-sm: 8px
--spacing-md: 16px
--spacing-lg: 24px
--spacing-xl: 32px
```

---

## ğŸ”§ å¼€å‘è€…æ¥å£

### æ¸²æŸ“ç« èŠ‚æ’å›¾
```javascript
renderChapterIllustration('chapter1', {
    clickable: true,
    style: 'max-width: 600px;'
});
```

### æ¸²æŸ“Mermaidå›¾è¡¨
```javascript
await MermaidIntegration.render(mermaidCode, 'containerId');
```

### æ¸²æŸ“æ•°æ®å›¾è¡¨
```javascript
DataCharts.render('containerId', 'bar', data, {
    title: 'æ ‡é¢˜',
    color: '#666',
    showValues: true
});
```

### æµ‹è¯•AIè¿é€šæ€§
```javascript
const result = await AIModels.testConnectivity('gemini-flash');
// { success: true, latency: 350, error: null }
```

### è®°å½•Tokenä½¿ç”¨
```javascript
AIModels.tokenStats.recordDetailed(
    'gemini-flash',
    128,  // input tokens
    128,  // output tokens
    'chat'
);
```

### æ‰“å¼€å›¾ç‰‡æŸ¥çœ‹å™¨
```javascript
imageViewer.open('image-url.jpg', 'æ ‡é¢˜', 'image');
```

---

## ğŸ“Š æ–‡ä»¶ç»“æ„

```
å¯è§†åŒ–ç³»ç»Ÿæ–‡ä»¶ï¼ˆæ–°å¢ï¼‰:
â”œâ”€â”€ chapter-illustrations.js   (15KB) - 10ç« ä¸“å±SVGæ’å›¾
â”œâ”€â”€ mermaid-integration.js     (8KB)  - Mermaidå›¾è¡¨é›†æˆ
â”œâ”€â”€ data-charts.js             (12KB) - æ•°æ®å¯è§†åŒ–å›¾è¡¨
â”œâ”€â”€ ai-stats-ui.js             (10KB) - AIç»Ÿè®¡UIç•Œé¢
â””â”€â”€ VISUALIZATION_FEATURES.md  (12KB) - å®Œæ•´åŠŸèƒ½æ–‡æ¡£

æ ¸å¿ƒæ–‡ä»¶ï¼ˆå·²æ›´æ–°ï¼‰:
â”œâ”€â”€ index.html                 - æ·»åŠ Mermaid CDNã€ç»Ÿè®¡UI
â”œâ”€â”€ outline.js                 - è‡ªåŠ¨åµŒå…¥æ’å›¾ã€Mermaidæ¸²æŸ“
â””â”€â”€ ai-models.js               - è¿é€šæ€§æµ‹è¯•ã€Tokenç»Ÿè®¡

ç°æœ‰æ–‡ä»¶ï¼ˆå¤ç”¨ï¼‰:
â”œâ”€â”€ svg-icons.js               - 20+å›¾æ ‡åº“
â”œâ”€â”€ svg-illustrations.js       - é€šç”¨æ’å›¾
â”œâ”€â”€ image-viewer.js            - å›¾ç‰‡æŸ¥çœ‹å™¨
â”œâ”€â”€ visual-todo.js             - ä»»åŠ¡ç®¡ç†
â”œâ”€â”€ data-charts.js             - æ•°æ®å›¾è¡¨
â””â”€â”€ toast.js                   - é€šçŸ¥ç³»ç»Ÿ
```

---

## â“ å¸¸è§é—®é¢˜

### Q: ç« èŠ‚æ’å›¾ä¸æ˜¾ç¤ºï¼Ÿ
**A**: å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+Shift+R æˆ– Cmd+Shift+Rï¼‰

### Q: Mermaidå›¾è¡¨æ¸²æŸ“å¤±è´¥ï¼Ÿ
**A**: æ£€æŸ¥Mermaid CDNæ˜¯å¦åŠ è½½ï¼Œè¯­æ³•æ˜¯å¦æ­£ç¡®

### Q: Tokenç»Ÿè®¡ä¸å‡†ç¡®ï¼Ÿ
**A**: Tokenä¼°ç®—æ˜¯ç®€å•ç®—æ³•ï¼Œä»…ä¾›å‚è€ƒã€‚ç²¾ç¡®ç»Ÿè®¡éœ€è¦AIæœåŠ¡å•†è¿”å›çœŸå®Tokenæ•°

### Q: å¦‚ä½•è‡ªå®šä¹‰ç« èŠ‚æ’å›¾ï¼Ÿ
**A**: ç¼–è¾‘ `chapter-illustrations.js`ï¼Œä¿®æ”¹å¯¹åº”ç« èŠ‚çš„SVGä»£ç 

### Q: å¦‚ä½•æ·»åŠ æ–°çš„AIæ¨¡å‹ï¼Ÿ
**A**:
```javascript
AIModels.addCustomModel('model-id', {
    name: 'æ¨¡å‹åç§°',
    endpoint: 'APIåœ°å€',
    // ... å…¶ä»–é…ç½®
});
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

**v2.0.0 (2025-01-08)** - å®Œæ•´å¯è§†åŒ–ç³»ç»Ÿ
- âœ¨ 10ç« ä¸“å±SVGæ’å›¾
- âœ¨ Mermaid.jså›¾è¡¨æ”¯æŒï¼ˆ9ç§ï¼‰
- âœ¨ æ•°æ®å¯è§†åŒ–å›¾è¡¨ï¼ˆ5ç§ï¼‰
- âœ¨ AIæ¨¡å‹è¿é€šæ€§æµ‹è¯•
- âœ¨ Tokenä½¿ç”¨ç»Ÿè®¡ç³»ç»Ÿ
- âœ¨ 20+ä¸ªSVGå›¾æ ‡åº“
- ğŸ¨ ç»†çº¿æ¡ã€é»‘ç™½ç°è®¾è®¡
- ğŸ“± å®Œæ•´ç§»åŠ¨ç«¯ä¼˜åŒ–

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **æµè§ˆé¦–é¡µ** - æŸ¥çœ‹ä¼˜åŒ–åçš„å¸ƒå±€å’Œå›¾æ ‡
2. **é˜…è¯»ç« èŠ‚** - æŸ¥çœ‹æ¯ç« çš„ä¸“å±æ’å›¾
3. **æ‰“å¼€å¯è§†åŒ–é¡µé¢** - æ¢ç´¢æ‰€æœ‰å¯è§†åŒ–å…ƒç´ 
4. **é…ç½®AIæ¨¡å‹** - æµ‹è¯•è¿é€šæ€§ï¼ŒæŸ¥çœ‹ç»Ÿè®¡
5. **å¼ºåˆ¶åˆ·æ–°** - ç¡®ä¿åŠ è½½æœ€æ–°ä»£ç 

---

## ğŸ“ æ”¯æŒ

**é¡¹ç›®**: é‡åº†è”åˆä¸½æ ¼ç§‘æŠ€æœ‰é™å…¬å¸
**é‚®ç®±**: yuxiaodong@beaucare.org
**ç”µè¯**: 023-63326559

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
